---
title: "Remote & API"
description: "Deploy isol8 as a secure HTTP service for remote code execution."
---

Running code locally is great, but often you need a centralized execution service. isol8 can run as a standalone HTTP server, exposing a REST API for execution, streaming, and file management.

## Starting the Server

The server is distributed as a single binary. No Bun installation required.

### CLI Command

```bash
isol8 serve --port 3000 --key my-secret-api-key
```

- **`--port`**: Port to listen on (default: 3000).
- **`--key`**: API key for Bearer token auth (required).
- **`--debug`**: Enable verbose request logging.
- **`--update`**: Force update the server binary.

### Environment Variables

You can also set the API key via `ISOL8_API_KEY`.

```bash
export ISOL8_API_KEY=secret123
isol8 serve
```

## API Reference

All endpoints (except `/health`) require `Authorization: Bearer <key>`.

### POST /execute

Execute code and return the result.

<ParamField body="request" type="object" required>
  The execution request details.
  <Expandable title="properties">
    <ParamField body="code" type="string" required>
      Source code to execute.
    </ParamField>
    <ParamField body="runtime" type="string" required>
      One of: `python`, `node`, `bun`, `deno`, `bash`.
    </ParamField>
    <ParamField body="timeoutMs" type="number">
      Execution timeout in milliseconds.
    </ParamField>
    <ParamField body="env" type="object">
      Environment variables to inject.
    </ParamField>
    <ParamField body="stdin" type="string">
      Data to pipe to stdin.
    </ParamField>
    <ParamField body="files" type="object">
      Files to inject (path -> content).
    </ParamField>
    <ParamField body="outputPaths" type="string[]">
      Paths of files to retrieve.
    </ParamField>
    <ParamField body="installPackages" type="string[]">
      Packages to install before execution.
    </ParamField>
  </Expandable>
</ParamField>

<ParamField body="sessionId" type="string">
  Optional session ID for persistent mode.
</ParamField>

<ParamField body="options" type="object">
  Overrides for defaults (network, memory, etc).
</ParamField>

#### Response

<ResponseField name="stdout" type="string">
  Standard output from the process.
</ResponseField>

<ResponseField name="stderr" type="string">
  Standard error from the process.
</ResponseField>

<ResponseField name="exitCode" type="number">
  Process exit code (0 = success).
</ResponseField>

<ResponseField name="durationMs" type="number">
  Execution duration in milliseconds.
</ResponseField>

<ResponseField name="executionId" type="string">
  Unique ID for this execution.
</ResponseField>

```bash
curl -X POST http://localhost:3000/execute \
  -H "Authorization: Bearer secret123" \
  -H "Content-Type: application/json" \
  -d '{
    "request": {
      "code": "print(\"Hello\")",
      "runtime": "python"
    }
  }'
```

### POST /execute/stream

Stream output via Server-Sent Events (SSE).

<ParamField body="request" type="object" required>
  Same as `/execute` request.
</ParamField>

#### Response (SSE Events)

<ResponseField name="type" type="string">
  Event type: `stdout`, `stderr`, `exit`, `error`.
</ResponseField>

<ResponseField name="data" type="string">
  Chunk content or exit code.
</ResponseField>

```bash
curl -N -X POST http://localhost:3000/execute/stream \
  -H "Authorization: Bearer secret123" \
  -d '{"request": {"code": "print(1)", "runtime": "python"}}'
```

### POST /file

Upload a file to a persistent session.

<ParamField body="sessionId" type="string" required>
  Target session ID.
</ParamField>

<ParamField body="path" type="string" required>
  Absolute path inside container (e.g., `/sandbox/data.csv`).
</ParamField>

<ParamField body="content" type="string" required>
  Base64-encoded file content.
</ParamField>

### GET /file

Download a file from a persistent session.

<ParamField query="sessionId" type="string" required>
  Target session ID.
</ParamField>

<ParamField query="path" type="string" required>
  Absolute path inside container.
</ParamField>

#### Response

<ResponseField name="content" type="string">
  Base64-encoded file content.
</ResponseField>

### DELETE /session/:id

Stop and remove a persistent session.

<ParamField path="id" type="string" required>
  Session ID to destroy.
</ParamField>

## Remote Client (`RemoteIsol8`)

Connect to a remote server from your application using the TypeScript library.

```typescript
import { RemoteIsol8 } from "isol8";

const isol8 = new RemoteIsol8(
  {
    host: "http://execution-service:3000",
    apiKey: "secret123",
    sessionId: "optional-session-id",
  },
  {
    network: "none",
    memoryLimit: "512m",
  }
);

await isol8.start(); // Verify server health

const result = await isol8.execute({
  code: 'print("Remote execution")',
  runtime: "python",
});

console.log(result.stdout);

await isol8.stop(); // Clean up session
```

## Server Configuration

Configure the server via `isol8.config.json`.

```json
{
  "maxConcurrent": 20,
  "defaults": {
    "timeoutMs": 30000,
    "memoryLimit": "512m"
  },
  "cleanup": {
    "autoPrune": true,
    "maxContainerAgeMs": 3600000
  }
}
```

## Reference

<CardGroup cols={3}>
  <Card title="CLI: isol8 serve" icon="terminal" href="/v2/cli#isol8-serve">
    All server startup options.
  </Card>
  <Card title="Server Config" icon="gear" href="/v2/configuration">
    Configure `maxConcurrent` and cleanup settings.
  </Card>
  <Card title="Library: RemoteIsol8" icon="code" href="/v2/library">
    Using the `RemoteIsol8` client class.
  </Card>
</CardGroup>
