---
title: "Configuration Reference"
description: "Full reference for isol8.config.json options and defaults."
---

isol8 loads its configuration from `isol8.config.json` in the current directory or `~/.isol8/config.json`. You can also generate a config file with the JSON schema for auto-completion.

## File Structure

The configuration file is a JSON object with the following top-level keys:

```json
{
  "$schema": "./schema/isol8.config.schema.json",
  "maxConcurrent": 10,
  "debug": false,
  "defaults": { ... },
  "network": { ... },
  "cleanup": { ... },
  "audit": { ... },
  "security": { ... },
  "dependencies": { ... }
}
```

## Options Reference

### Global Settings

| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| `maxConcurrent` | number | `10` | Maximum number of containers that can run concurrently. Limits parallel execution to prevent resource exhaustion. |
| `debug` | boolean | `false` | Enable verbose debug logging for internal engine operations. |

### Defaults (`defaults`)

Default settings applied to every execution unless overridden by the request.

| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| `timeoutMs` | number | `30000` | Execution timeout in milliseconds (30 seconds). |
| `memoryLimit` | string | `"512m"` | Docker memory limit (e.g., `256m`, `1g`). |
| `cpuLimit` | number | `1.0` | CPU limit as a fraction of a core (1.0 = 1 core). |
| `network` | string | `"none"` | Default network mode: `none`, `host`, or `filtered`. |
| `sandboxSize` | string | `"512m"` | Size of the writable `/sandbox` tmpfs mount. |
| `tmpSize` | string | `"256m"` | Size of the read-only `/tmp` tmpfs mount. |

### Network Filtering (`network`)

Global rules for `filtered` network mode.

| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| `whitelist` | string[] | `[]` | Array of regex patterns for allowed hostnames. If non-empty, only matching hosts are allowed. |
| `blacklist` | string[] | `[]` | Array of regex patterns for blocked hostnames. Matching hosts are denied even if whitelisted. |

### Cleanup (`cleanup`)

Settings for container lifecycle and server-side session management.

| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| `autoPrune` | boolean | `true` | Automatically prune idle persistent sessions (server-side). |
| `maxContainerAgeMs` | number | `3600000` | Max idle time (ms) before a persistent container is pruned (default: 1 hour). |

### Security (`security`)

Advanced security configuration.

| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| `seccomp` | string | `"strict"` | Seccomp profile mode: `strict`, `unconfined`, or `custom`. |
| `customProfilePath` | string | - | Path to a custom seccomp profile JSON file (required if `seccomp` is `custom`). |

### Audit Logging (`audit`)

Configure execution audit logs.

| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| `enabled` | boolean | `false` | Enable audit logging. |
| `destination` | string | `"filesystem"` | Where to write logs: `filesystem` or `stdout`. |
| `logDir` | string | `.isol8_audit` | Directory for audit log files. |
| `retentionDays` | number | `90` | Days to keep log files before deletion. |
| `trackResources` | boolean | `true` | Track CPU, memory, and network usage in logs. |
| `includeCode` | boolean | `false` | Include full source code in logs (warning: sensitive data). |
| `includeOutput` | boolean | `false` | Include stdout/stderr in logs (warning: sensitive data). |
| `postLogScript` | string | - | Path to a script to run after each log entry is written. |

### Dependencies (`dependencies`)

Runtime-specific packages to bake into custom Docker images via `isol8 setup`.

| Runtime | Type | Description |
|:--------|:-----|:------------|
| `python` | string[] | Python packages to install via `pip`. |
| `node` | string[] | Node.js packages to install via `npm`. |
| `bun` | string[] | Bun packages to install via `bun add`. |
| `deno` | string[] | Deno module URLs to pre-cache. |
| `bash` | string[] | System packages to install via `apk`. |

## Example Config

```json
{
  "$schema": "./schema/isol8.config.schema.json",
  "maxConcurrent": 20,
  "debug": true,
  "defaults": {
    "timeoutMs": 5000,
    "memoryLimit": "1g",
    "network": "none"
  },
  "network": {
    "whitelist": ["^api\.openai\.com$", "^github\.com$"]
  },
  "security": {
    "seccomp": "strict"
  },
  "dependencies": {
    "python": ["numpy", "pandas"],
    "node": ["lodash", "express"]
  }
}
```
